{"version":3,"sources":["webpack:///./src/constants/Configs.js","webpack:///./src/models/AppModel.js","webpack:///./src/models/BaseModel.js","webpack:///./src/models/Store.js","webpack:///./src/utils/LocalStorage.js","webpack:///./src/utils/Navigator.js","webpack:///./src/utils/Param.js","webpack:///./src/utils/Tools.js"],"names":["APP_NANE","PAGE_URL","Tools","PAGE_PATH","DEVICE_ID_KEY","Configs","AppModel","_data","debug","searchParams","appName","deviceId","LocalStorage","getItem","isGithub","test","window","location","href","setItem","param","setTimeout","Navigator","getFrame","setAttribute","key","undefined","BaseModel","Mutation","data","_serialize","has","bind","Object","keys","forEach","fields","split","Array","isArray","every","trim","on","setMaxListeners","_updateEventName","prevData","assign","notify","isReset","instance","create","getPrototypeOf","mutationData","emit","listener","removeListener","EventEmitter","Store","expire","options","_expire","_cache","_options","persistence","_local","SessionStorage","persistenceKey","id","toString","record","Date","now","created","_persist","BasicStorage","_store","value","Storage","store","defaultValue","rawValue","JSON","parse","e","stringify","localStorage","sessionStorage","frame","androidReg","isAndroid","navigator","platform","userAgent","appendFrame","document","body","appendChild","removeFrame","parentNode","removeChild","src","name","_frame","createElement","protocol","command","single","noframe","timer","onload","onreadystatechange","clearTimeout","fn","str","reg","replace","$0","$1","$2","$3","search","RegExp","hashParams","hash","params","ua","android","match","ipad","ipod","iphone","os","version","ios","thisPage","thisPath","substring","lastIndexOf","randomColor","letters","color","i","Math","floor","random","randomList","list","len","verify","ratio","rs","_list","slice","length","rd","_array","sort","index","item","call","push","splice","InlineWebWorker","ready","Blob","Worker","URL","selector","createObjectURL","querySelector","textContent","uuid","res","c","num","v","substr","randomLabelColor","colors","MD5","SparkMD5"],"mappings":"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","file":"1.app.js","sourcesContent":["import * as Tools from '../utils/Tools';\n\nconst APP_NANE = 'codelf';\nconst PAGE_URL = Tools.thisPage;\nconst PAGE_PATH = Tools.thisPath;\n\nexport { APP_NANE, PAGE_PATH, PAGE_URL }\n","import BaseModel from './BaseModel';\nimport LocalStorage from '../utils/LocalStorage';\nimport * as Tools from '../utils/Tools';\nimport * as Configs from '../constants/Configs';\nimport { searchParams } from '../utils/Param';\nimport Navigator from '../utils/Navigator';\n\nconst DEVICE_ID_KEY = `${Configs.APP_NANE}_device_id`;\n\nclass AppModel extends BaseModel {\n  constructor() {\n    super();\n    this._data = {\n      debug: searchParams()['debug'],\n      appName: Configs.APP_NANE,\n      deviceId: LocalStorage.getItem(DEVICE_ID_KEY),\n      isGithub: /github\\.io/g.test(window.location.href)\n    };\n    if (!this._data.deviceId) {\n      this._data.deviceId = Tools.uuid();\n      LocalStorage.setItem(DEVICE_ID_KEY, this._data.deviceId)\n    }\n  }\n\n  analytics(param) {\n    (this.isGithub || this.debug) && setTimeout(function () {\n      Navigator.getFrame(null).setAttribute('src', '//www.mihtool.com/analytics.html?codelf' + (param ? ('&' + param) : ''));\n    }, param ? 500 : 1000);\n  }\n\n  genPersistenceKey(key) {\n    if (key !== undefined && key !== null) {\n      return `${this._data.appName}_${key}`;\n    }\n    return null;\n  }\n\n  get debug() {\n    return this._data.debug;\n  }\n\n  get isGithub() {\n    return this._data.isGithub;\n  }\n\n  get appName() {\n    return this._data.appName;\n  }\n\n  get deviceId() {\n    return this._data.deviceId;\n  }\n}\n\nexport default new AppModel();\n","import EventEmitter from 'events';\n\nclass Mutation {\n  constructor(data) {\n    this._data = data;\n    this._serialize();\n    this.has = this.has.bind(this);\n  }\n\n  _serialize() {\n    Object.keys(this._data).forEach(key => {\n      this[key] = true;\n    });\n  }\n\n  get() {\n    return this._data;\n  }\n\n  has(fields) {\n    if (/string/i.test(typeof fields)) {\n      fields = fields.split(',');\n    }\n    if (Array.isArray(fields)) {\n      return fields.every((key) => {\n        key = key.trim();\n        return this[key];\n      });\n    }\n    return false;\n  }\n}\n\nclass BaseModel extends EventEmitter {\n  constructor() {\n    super();\n    this.on('error', () => { });\n    this.setMaxListeners(99);\n    this._updateEventName = 'update';\n    this._data = {};\n  }\n\n  set(data) {\n    let prevData = Object.assign({}, this._data);\n    this._data = data || {};\n    this.notify(prevData, Object.assign({}, prevData, data, { isReset: true }));\n  }\n\n  get() {\n    return this._data;\n  }\n\n  create(data) {\n    let instance = Object.create(Object.getPrototypeOf(this));\n    instance._data = data;\n    return instance;\n  }\n\n  notify(prevData, mutationData) {\n    let data = Object.assign({}, this._data);\n    this.emit(this._updateEventName, data, prevData || data, new Mutation(mutationData));\n  }\n\n  update(data) {\n    let prevData = Object.assign({}, this._data);\n    Object.assign(this._data, data);\n    this.notify(prevData, data);\n  }\n\n  onUpdated(listener) {\n    this.on(this._updateEventName, listener);\n  }\n\n  offUpdated(listener) {\n    this.removeListener(this._updateEventName, listener);\n  }\n}\n\nexport default BaseModel;\n","import LocalStorage, { SessionStorage } from '../utils/LocalStorage';\nimport * as Tools from '../utils/Tools';\n/**\n * Store data in memory cache.\n */\nexport default class Store {\n  /**\n   * Create a memory cache.\n   *\n   * @param expire expire time in seconds for each record, Infinity value will never expire. default (60 * 60 * 1000)s.\n   */\n  constructor(expire, options) {\n    this._expire = expire || (60 * 60 * 1000);\n    this._cache = {};\n    this._options = options || {};\n    if (this._options.persistence === 'local') {\n      this._local = LocalStorage;\n    }\n    if (this._options.persistence === 'session') {\n      this._local = SessionStorage;\n    }\n    if (this._local && this._options.persistenceKey) {\n      this._cache = this._local.getItem(this._options.persistenceKey) || {};\n    }\n  }\n\n  /**\n   * Returns cached record data with id.\n   * Returns null if the record is expired.\n   *\n   * @param id unique id.\n   * @return {*} cache data.\n   */\n  get(id) {\n    if (id !== undefined || id != null) {\n      id = Tools.MD5(id.toString());\n      let record = this._cache[id];\n      if (record) {\n        // delete record when it is expired\n        if (Date.now() - record.created > this._expire) {\n          delete this._cache[id];\n          return null;\n        }\n        return record.data;\n      }\n      return null;\n    }\n    return null;\n  }\n\n  /**\n   * Save a record data to memory.\n   * Saving different record with same id will always overwrite the old record.\n   *\n   * @param id unique id.\n   * @param data cache record data.\n   */\n  save(id, data) {\n    if (id !== undefined || id != null) {\n      id = Tools.MD5(id.toString());\n      this._cache[id] = {\n        id: id,\n        data: data,\n        created: Date.now()\n      };\n      this._persist();\n    }\n  }\n\n  /**\n   * Clear all cached records.\n   */\n  clear() {\n    this._cache = {};\n    this._persist();\n  }\n\n  _persist() {\n    if (this._local && this._options.persistenceKey) {\n      this._local.setItem(this._options.persistenceKey, this._cache)\n    }\n  }\n}\n","class BasicStorage {\n  constructor() {\n    this._store = {};\n  }\n\n  getItem(key) {\n    return this._store[key];\n  }\n\n  setItem(key, value) {\n    return this._store[key] = value;\n  }\n}\n\nclass Storage {\n  constructor(store) {\n    this._store = store;\n    if (!store) {\n      return new BasicStorage();\n    }\n  }\n\n  getItem(key, defaultValue) {\n    let rawValue = this._store.getItem(key);\n    if (rawValue == null) {\n      return defaultValue;\n    }\n    try {\n      return JSON.parse(rawValue);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  setItem(key, value) {\n    try {\n      this._store.setItem(key, JSON.stringify(value));\n    } catch (e) {\n      // todo\n    }\n  }\n}\n\nconst LocalStorage = new Storage(window.localStorage);\nconst SessionStorage = new Storage(window.sessionStorage);\n\nexport { SessionStorage };\nexport default LocalStorage;\n","const Navigator = (function () {\n  let frame,\n    androidReg = /Android/gi,\n    isAndroid = androidReg.test(navigator.platform) || androidReg.test(navigator.userAgent);\n  frame = null;\n\n  function appendFrame(frame) {\n    frame && document.body.appendChild(frame);\n  }\n\n  function removeFrame(frame) {\n    frame && frame.parentNode.removeChild(frame);\n  }\n\n  function getFrame(src, name) {\n    let _frame = document.createElement('iframe');\n    _frame.setAttribute('style', 'display:none;width:0;height:0;position: absolute;top:0;left:0;border:0;');\n    _frame.setAttribute('height', '0px');\n    _frame.setAttribute('width', '0px');\n    _frame.setAttribute('frameborder', '0');\n    name && _frame.setAttribute('name', name);\n    if (src) {\n      _frame.setAttribute('src', src);\n    } else {\n      appendFrame(_frame);\n    }\n    return _frame;\n  }\n\n  function protocol(command, single, noframe) {\n    let _frame, timer;\n    if (noframe) {\n      window.location.href = command;\n      return;\n    }\n    if (single) {\n      if (isAndroid) {\n        _frame = getFrame();\n        _frame.setAttribute('src', command);\n      } else {\n        _frame = getFrame(command);\n        appendFrame(_frame);\n      }\n      timer = setTimeout(function () {\n        _frame && removeFrame(_frame);\n      }, 30000);\n      _frame.onload = _frame.onreadystatechange = function () {\n        timer && clearTimeout(timer);\n        _frame && removeFrame(_frame);\n      }\n    } else {\n      frame = frame || getFrame();\n      frame.setAttribute('src', command);\n    }\n  }\n\n  return {\n    protocol: protocol,\n    getFrame: getFrame,\n    appendFrame: appendFrame,\n    removeFrame: removeFrame\n  }\n})();\n\nexport default Navigator;\n","\nfunction fn(str, reg) {\n  if (str) {\n    let data = {};\n    str.replace(reg, function ($0, $1, $2, $3) {\n      data[$1] = $3;\n    });\n    return data;\n  }\n}\n\nexport function searchParams(search) {\n  search = search || window.location.search;\n  return fn(search, new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\")) || {};\n}\n\nexport function hashParams(hash) {\n  hash = hash || window.location.hash;\n  return fn(hash, new RegExp(\"([^#=&]+)(=([^&]*))?\", \"g\")) || {};\n}\n\nexport function params(search, hash) {\n  return {\n    search: searchParams(search),\n    hash: hashParams(hash)\n  }\n}\n","const ua = navigator.userAgent;\nconst android = ua.match(/(Android);?[\\s/]+([\\d.]+)?/);\nconst ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\nconst ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\nconst iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\nlet os = {};\n\nif (android) os.android = true, os.version = android[2];\nif (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\nif (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\nif (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n\nconst thisPage = window.location.href.replace(window.location.hash, '');\nconst thisPath = thisPage.substring(0, thisPage.lastIndexOf('/') + 1);\n\nconst randomColor = () => {\n  const letters = '0123456789ABCDEF'.split('');\n  let color = '#';\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n}\n\nconst randomList = (list, len, verify, ratio) => {\n  let rs = [], _list = list.slice(0);\n  len = len || _list.length;\n  ratio = ratio ? ratio : 0;\n\n  function rd(_array) {\n    _array.sort(function () {\n      return (0.5 - Math.random());\n    });\n  }\n\n  while (ratio) {\n    rd(_list);\n    ratio--;\n  }\n  if (_list.length <= len) {\n    rs = _list;\n  } else {\n    while (rs.length < len) {\n      let index = Math.floor(Math.random() * _list.length),\n        item = _list[index];\n      if ((verify && verify.call(this, item, _list)) || !verify) {\n        rs.push(item);\n        _list.splice(index, 1);\n      }\n    }\n  }\n  return rs;\n}\n\nconst InlineWebWorker = {\n  ready: window.Blob && window.Worker && window.URL,\n  create: function create(selector) {\n    return new Worker(window.URL.createObjectURL(new Blob([document.querySelector(selector).textContent])));\n  }\n}\n\nconst uuid = len => {\n  let res = 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'.replace(/[x]/g, function (c) {\n    let num = Math.random() * 16 | 0, v = c === 'x' ? num : (num & 0x3 | 0x8);\n    return v.toString(16);\n  });\n  return len ? res.substr(0, len) : res;\n}\n\nconst randomLabelColor = () => {\n  const colors = [\n    'red',\n    'orange',\n    'yellow',\n    'olive',\n    'green',\n    'teal',\n    'blue',\n    'violet',\n    'purple',\n    'pink',\n    'brown',\n  ];\n  return randomList(colors, 1)[0];\n};\n\nimport SparkMD5 from 'spark-md5';\nconst MD5 = SparkMD5.hash;\n\nexport { os, thisPage, thisPath, randomList, randomColor, InlineWebWorker, uuid, randomLabelColor, MD5 }\n"],"sourceRoot":""}